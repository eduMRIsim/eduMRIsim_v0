from model import Model
from load import Loader
import json
import numpy as np

#Load the JSON file
#with open('models/models.json', 'r') as json_file:
#    data = json.load(json_file)

loader = Loader()
jsonFilePath = 'models/models.json'
data = loader.load_model(jsonFilePath)

model_data = data["mriSimBrainModel"]
model_name = model_data["name"]
description = model_data["description"]
t1map_file_path = model_data["T1mapFilePath"]
t2map_file_path = model_data["T2mapFilePath"]
pdmap_file_path = model_data["PDmapFilePath"]

t1map = np.load(t1map_file_path)
t2map = np.load(t2map_file_path)
pdmap = np.load(pdmap_file_path)

model_instance = Model(model_name, description, t1map, t2map, pdmap)

print(type(model_instance._T1map), model_instance._T1map.shape)